<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>userAgent</title>
  <link rel="stylesheet" href="../../css/main.css">
  <script src="../../js/jquery-1.12.2.min.js"></script>
</head>
<body>
  <div class="people-wrap">
    <p id="info"></p>   
  </div>
  <script>
  // 1번 = 오페라에서 크롬이라고 나옴.
  // 'use strict';

  // var ua = navigator.userAgent,
  // browser = $.support ,
  // // browser = $(browser) ,
  // support = $.support,
  
  // ie = ua.match(/(?:msie ([0-9]+)|rv:([0-9\.]+)\) like gecko)/i),

  // i;

  // browser.firefox = (/firefox/i).test(ua);
  // browser.webkit = (/applewebkit/i).test(ua);
  // browser.chrome = (/chrome/i).test(ua);
  // browser.opera = (/(opera)/i).test(ua);
  // browser.ios = (/ip(ad|hone|od)/i).test(ua);
  // browser.android = (/android/i).test(ua);
  // browser.safari = browser.webkit && !browser.chrome;

  // if ( ie ) {
  //     browser.ie = ie = parseInt( ie[1] || ie[2] );
  // }

  // browser.os = (navigator.appVersion).match(/(mac|win|linux)/i);
  // browser.os = ( browser.os )? browser.os[1].toLowerCase() : '';

  // support.touch = browser.ios || browser.android;
  // browser.mobile = support.touch && ( browser.ios || browser.android );

  // console.log(browser.opera);
  // console.log(browser);
  // console.log((/ip(opr|opera)/i).test(ua));

  // $(document.documentElement)
  //   .addClass(browser.os)
  //   .addClass(browser.firefox ? 'firefox' : browser.opera ? 'opera' : browser.chrome ? 'chrome' : browser.safari ? 'safari' : browser.ie ? 'ie ie'+browser.ie : '')
  //   .addClass(browser.webkit ? 'webkit' : '')
  //   .addClass(browser.ie && 8 > browser.ie ? 'ie8' : '')
  //   .addClass(browser.ios ? 'ios' : browser.android ? 'android' : '')
  //   .addClass(browser.mobile ? 'mobile' : 'desktop'); 

// =------------------------------------------------------------------------
// 2번 - 이건 아닌듯한 느낌? (https://m.blog.naver.com/10hsb04/221684015845)

// var agent = navigator.userAgent;

// var brower = null;
//  if (agent != null) {
//    if (agent.indexOf('Trident') > -1) {
//      brower = "MSIE";
//    } else if (agent.indexOf('Edg') > -1) {
//      brower = "Edg";
//    } else if (agent.indexOf('Opera') > -1 || agent.indexOf('OPR') > -1) {
//      brower = "Opera";
//    } else if (agent.indexOf('Chrome') > -1) {
//      brower = "Chrome";
//    } else if (agent.indexOf('Firefox') > -1) {
//      brower = "firefox";
//    } else if (agent.indexOf('iPhone') > -1 && agent.indexOf('Mobile') > -1) {
//      brower = "iPhone";
//    } else if (agent.indexOf('Android') > -1 && agent.indexOf('Mobile') > -1) {
//      brower = "Android";
//    }
//  }
//  console.log(agent);
//  console.log(brower);

// =------------------------------------------------------------------------
// 3번 - 이게 그나마 나은건가?


// var userAgent = navigator.userAgent;
// var browser = "";

// if(userAgent.indexOf("Trident") > -1 || userAgent.indexOf("MSIE") > -1) { //IE

//   if(userAgent.indexOf("Trident/7") > -1) {
//     browser = "IE 11";
//   }else if(userAgent.indexOf("Trident/6") > -1) {
//     browser = "IE 10";
//   }else if(userAgent.indexOf("Trident/5") > -1) {
//     browser = "IE 9";
//   }else if(userAgent.indexOf("Trident/4") > -1) {
//     browser = "IE 8";
//   }else if(userAgent.indexOf("edge") > -1) {
//     browser = "IE edge";
//   }

// }else if(userAgent.indexOf("Whale") > -1){ //네이버 WHALE
//   browser = "WHALE " + userAgent.split("Whale/")[1].toString().split(" ")[0].toString();
// }else if(userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1){ //오페라
//   if(userAgent.indexOf("Opera") > -1) {
//     browser = "OPERA " + userAgent.split("Opera/")[1].toString().split(" ")[0].toString();
//   }else if(userAgent.indexOf("OPR") > -1) {
//     browser = "OPERA " + userAgent.split("OPR/")[1].toString().split(" ")[0].toString();
//   }
// }else if(userAgent.indexOf("Firefox") > -1){ //파이어폭스
//   browser = "FIREFOX " + userAgent.split("Firefox/")[1].toString().split(" ")[0].toString();
// }else if(userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") == -1 ){ //사파리
//   browser = "SAFARI " + userAgent.split("Safari/")[1].toString().split(" ")[0].toString();
// }else if(userAgent.indexOf("Chrome") > -1){ //크롬
//   browser = "CHROME " + userAgent.split("Chrome/")[1].toString().split(" ")[0].toString();
// }

// console.log("userAgent 확인 ["+userAgent+"]");
// console.log("브라우저/버전 확인 ["+browser+"]");

// =------------------------------------------------------------------------
// 4번 - 엉망이구만..

// function isBrowserCheck(){ 
// 	const agt = navigator.userAgent.toLowerCase(); 

//   console.log(agt);
// 	if (agt.indexOf("chrome") != -1) return 'Chrome'; 
// 	if (agt.indexOf("opera") != -1) return 'Opera'; 
// 	if (agt.indexOf("staroffice") != -1) return 'Star Office'; 
// 	if (agt.indexOf("webtv") != -1) return 'WebTV'; 
// 	if (agt.indexOf("beonex") != -1) return 'Beonex'; 
// 	if (agt.indexOf("chimera") != -1) return 'Chimera'; 
// 	if (agt.indexOf("netpositive") != -1) return 'NetPositive'; 
// 	if (agt.indexOf("phoenix") != -1) return 'Phoenix'; 
// 	if (agt.indexOf("firefox") != -1) return 'Firefox'; 
// 	if (agt.indexOf("safari") != -1) return 'Safari'; 
// 	if (agt.indexOf("skipstone") != -1) return 'SkipStone'; 
// 	if (agt.indexOf("netscape") != -1) return 'Netscape'; 
// 	// if (agt.indexOf("mozilla/5.0") != -1) return 'Mozilla'; 
// 	if (agt.indexOf("msie") != -1) { 
//     	let rv = -1; 
// 		if (navigator.appName == 'Microsoft Internet Explorer') { 
// 			let ua = navigator.userAgent; var re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})"); 
// 		if (re.exec(ua) != null) 
// 			rv = parseFloat(RegExp.$1); 
// 		} 
// 		return 'Internet Explorer '+rv; 
// 	} 
// }

// const browser = isBrowserCheck();

// console.log(browser);

//------------------------------------------------------------------
//5번

  window.onload=function(){
    // var info=document.getElementById('info');
    // info.innerHTML=getBrowserInfo();
    var browser = getBrowserInfo();
    console.log(browser);
  };

  function getBrowserInfo(){
    // 브라우저 정보는 userAgent에 있음 
    var userAgent= navigator.userAgent.toLowerCase();
    console.log(userAgent);

    //indexof() 함수 : 문자열을 검색해서 인덱스를 가져온다 .
    if(userAgent.indexOf("opera") !=-1 || userAgent.indexOf("opr") != -1){
      return "Opera";
    }
    else if (userAgent.indexOf("whale") != -1){
      return "Whale";
    }
    //---
    else if (userAgent.indexOf("edge") != -1 || userAgent.indexOf("edg") != -1 ){
      return "Edge" + getIEVersion();
    }
    //---
    else if (userAgent.indexOf("chrome") != -1){
      return "Chrome";
    }
    else if (userAgent.indexOf("safari") != -1){
      return "Safari";
    }
    else if (userAgent.indexOf("firefox") != -1){
      return "Firefox";
    }
    // MS Internet Explorer 10 이하 ,IE 6,7 ,8,9,10
    else if (userAgent.indexOf("mise") != -1 || 
      // MS Internet Explorer 11 엣지 
      // undefined(null)
      // 느낌표 1개 : 논리반전(not) !undefined => true
      // 느낌표 2개 : 논리반전(not) !!undefined => false
      // 느낌표 2개 사용이유: undefined 를 false로 받고 싶다. 
      (!!document.documentMode ==true)){
      return "IE" + getIEVersion();
    }
    else{
      return "Unknown Browser ! ";
    }
    return "";
  }

  function getIEVersion(){
    var userAgent=window.navigator.userAgent.toLowerCase();
    var msie=userAgent.indexOf('msie');
    if(msie > 0){
      //IE 10 또는 그 이하 버젼 
      //parseInt() : 문자열을 정수로 변환
      // substring() : 문자열의 일부를 가져온다. 
      return parseInt(userAgent.substring(msie +5, 
      userAgent.indexOf('.',msie)),10);
    }
    var trident=userAgent.indexOf('trident/');
    if(trident >0){
      //IE 11 일 때 
      var rv=userAgent.indexOf('rv:');
      return parseInt(userAgent.substring(rv +3, userAgent.indexOf('.',rv)),10);
    }
    var edge=userAgent.indexOf('edge/');
    var edg=userAgent.indexOf('edg/');
    if(edge>0){
      //Edge 브라우저 
      return parseInt(userAgent.substring(edge+5,userAgent.indexOf('.',edge)),10);
    } else if(edg > 0){
      //Edge 브라우저 
      return parseInt(userAgent.substring(edg+5,userAgent.indexOf('.',edg)),10);
    }
    return "";
  }




// 빠르거나 최선의 방법을 찾아보라 하셨지만.. 제능력이 아직 그정도가 아닌가 봅니다..ㅠ 찾아보면서 괜찮아 보이는 코드는 복사하여 테스트해보았습니다. 아주아주아주 약간 수정한 부분도 있지만 그냥 복사한 코드입니다ㅠㅠ 사실 복사하고 테스트하면서 왜 되는지 이해가 안되는 것도 있다는 것... 말씀 드립니다ㅠ
  </script>
</body>
</html>