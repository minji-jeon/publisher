!function(a){a.fn.smartMenu=function(t){var n=a.extend({prependTo:a("body"),hashSuffix:"",scrollSpeed:800,offset:80,onScrollStart:function(){},onScrollEnd:function(){}},t,a.fn.smartMenu.defaults),s=this,e=[],o=n.menuSelector,l=n.hashSuffix,i=n.scrollSpeed,h=n.offset,c=n.prependTo;a(window).on("scroll",function(){e.length&&(a(document).scrollTop()-s.first().offset().top>0-h?a(o).hasClass("shown")||a(o).addClass("shown"):a(o).hasClass("shown")&&a(o).removeClass("shown"),s.each(function(t,n){if(a(document).scrollTop()-a(n).offset().top>-h){a(o).find("a").removeClass("active");var s=a(n).data("hash");a(o).find('a[href*="#'+s+'"]').addClass("active")}}),a(window).scrollTop()+a(window).height()===a(document).height()&&(a(o).find("a").removeClass("active"),a(o).find("a").last().addClass("active")))}),a(document).on("click",o+" a",function(t){var s=a(this);n.onScrollStart.call(a(this)),location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(t.preventDefault(),r(s))}),a(window).on("load",function(){var t=location.hash;if(t.length){var n=t.substr(1);a("[data-hash="+n+"]").is(a("[data-hash]").first())||r()}});var r=function(t){var s;s=t?t[0].hash:location.hash;var e=s.slice(1);if(e.length&&e.substr(0,l.length)===l){var o=a("[data-hash="+e+"]");a("html, body").animate({scrollTop:o.offset().top-h+40},i,function(){location.hash=s,n.onScrollEnd.call(t)})}};s.each(function(){var t={};t.hash=a(this).data("hash"),t.text=a(this).data("title"),e.push(t)});var f=function(t){if(t.length){var n='<div class="smart-menu"><div class="smart-wrapper"><div class="menu-centered"><ul class="menu">';a.each(t,function(a,t){var s=location.pathname+"#"+t.hash;n+='<li><a href="'+s+'">'+t.text+"</a></li>"}),n+="</ul></div></div></div>",a(c).prepend(n)}};return f(e)},a.fn.smartMenu.defaults={menuSelector:".smart-menu"}}(jQuery);
//# sourceMappingURL=smartMenu.js.map
