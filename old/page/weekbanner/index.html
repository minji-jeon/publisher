<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../../css/main.css">
  <script src="../../js/jquery-1.12.2.min.js"></script>
  <script src="../../js/slick.min.js"></script>
</head>
<body class="page-weekbanner">
  <header></header>
  <main>
    <div class="red-banner banner is-show"></div>
    <div class="blue-banner banner"></div>
    <section class="click-show-banner">
      <input type="text" id="day" value="2020-04-08">
      <button type="button" class="change-day">확인</button>
    </section>
    <section class="scroll-action">
      <div class="gre"></div>
      <div class="pin"></div>
    </section>
    <section class="content">
      <ul class="image-change">
        <li>
          <img src="../coupang/image/slide-img05.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img03.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img01.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img02.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img04.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img06.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img03.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img01.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img05.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img04.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img02.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
        <li>
          <img src="../coupang/image/slide-img01.jpg" alt="">
          <p class="title">제목임당</p>
          <p class="text">제가 바로 내용입니다. 감삼당</p>
        </li>
      </ul>
    </section>
    <section class="scroll-action">
      <div class="blue"></div>
      <div class="yel"></div>
    </section>
    <section class="change-text">
      <p class="text">A:</p>
      <button type="button">name</button>
      <button type="button">my</button>
      <button type="button">minji</button>
      <button type="button">is</button>
    </section>
    <section class="scroll-action">
      <div class="gre"></div>
      <div class="pin"></div>
    </section>
    <section class="down-star">
      <button type="button" class="addStar">별추가</button>
      <!-- 별이 추가됩니다. -->
    </section>
    <section class="scroll-action">
      <div class="blue"></div>
      <div class="yel"></div>
    </section>
    <section class="view-time">
      <div class="time-inner">
        <p>
          <span>20</span> <span>04</span> <span>09</span>
        </p>
        <span class="sm"></span> <span class="md"></span> <span class="lg"></span>
      </div>
    </section>
    <section class="scroll-action">
      <div class="gre"></div>
      <div class="pin"></div>
    </section>
    <section class="movie-slide">
      <div class="slide-inner">
        <!-- 슬라이더  -->
        <div class="visual-slick">
          <!-- 슬라이드1 -->
          <div class="visual-slide">
            <video class="visual-bg" width="100%" playsinline muted  poster="../../image/bg.jpg">
              <source src="../../image/main_osulloc_4.mp4" type="video/mp4">
            </video>
            <div class="text-group">
              <p class="title">11My name is Minji11</p>
              <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto enim dolor, quae excepturi adipisci esse tenetur aperiam!</p>
            </div>
          </div>
          <!-- 슬라이드2 -->
          <div class="visual-slide">
            <video class="visual-bg" width="100%" playsinline muted poster="../../image/bg.jpg">
              <source src="../../image/Main_Ingredients_4.mp4" type="video/mp4">
            </video>
            <div class="text-group">
              <p class="title">22My name is Minji22</p>
              <p class="desc">Minima laborum ipsa maiores, laudantium praesentium nemo saepe exercitationem, accusantium neque aliquam obcaecati sunt! Nostrum illum aliquid obcaecati quod, rerum nemo qui.</p>
            </div>
          </div>
          <!-- 슬라이드3 -->
          <div class="visual-slide">
            <video class="visual-bg" width="100%" playsinline muted poster="../../image/bg.jpg" uncontrol>
              <source src="../../image/main_osulloc_4.mp4" type="video/mp4">
            </video>
            <div class="text-group">
              <p class="title">33My name is Minji33</p>
              <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto enim dolor, quae excepturi adipisci esse tenetur aperiam!</p>
            </div>
          </div>
          <!-- 슬라이드4 -->
          <div class="visual-slide">
            <video class="visual-bg" width="100%" playsinline muted poster="../../image/bg.jpg">
              <source src="../../image/Main_RnD04_4.mp4" type="video/mp4">
            </video>
            <div class="text-group">
              <p class="title">44My name is Minji44</p>
              <p class="desc">Minima laborum ipsa maiores, laudantium praesentium nemo saepe exercitationem, accusantium neque aliquam obcaecati sunt! Nostrum illum aliquid obcaecati quod, rerum nemo qui.</p>
            </div>
          </div>
        </div>
        <!-- bar -->
        <div class="slick-progress">
          <div class="slick-progress-bar"></div>
        </div>
        <div class="visual-btn">
          <button id="autoPlay" type="button"><span>슬라이드 재생/ 정지</span></button>
        </div>
      </div>
    </section>
    <section class="scroll-action">
      <div class="gre"></div>
      <div class="pin"></div>
    </section>
  </main>
  <footer></footer>

  <script>
    weekBanner();

      function weekBanner(){

        var $redBanner = $('.event-blue-banner')
        var $blueBanner = $('.event-red-banner')

        var today = new Date();
        var year = today.getFullYear(); // 년도


        for(var i=1; i<=7; i++){
          // 시작일 결정 (0=일, 1=월, 2=화, 3=수, 4=목, 5=금, 6=토)
          if (new Date('1/'+i+'/'+ year).getDay() === 0) {
            var startday = new Date('1/'+i+'/'+ year);
          }
        }

        // 소수점을 빼면 1월 1일부터 몇주가 지났는지 확인 가능
        // 0부터 시작
        var weekDay = Math.floor((today - startday) / (86400000 * 7));

        if ((weekDay % 2) === 1) {
          $redBanner.addClass('is-active');
        } else {
          $blueBanner.addClass('is-active');
        }

        console.log(today +'/'+ weekDay +'/'+ ((weekDay % 2) === 1));
      }



    // 여기부터는 연습 ---------------------------------
    $('.image-change li').on('mouseenter', function() {
      var bgUrl = $(this).children('img').attr('src');

      console.log(bgUrl);

      $('head').append('<style>.image-change li::before {background-image:url('+bgUrl+')}</style>')
    });
    $('.image-change').on('mouseleave', function() {
      $('head').append('<style>.image-change li::before {background-image:none}</style>')
    });

    $('.change-text button').on('click', function() {
      var addText = $(this).text();
      var myText = $('.change-text .text').text();

      $('.change-text .text').text('' + myText + ' ' + addText + '');
    })


    // 별생성 & 별동별
      var i = 0;

    $('.addStar').on('click', function() {
      var e = ++i;

      var randomColor = '#' + Math.round(Math.random() * 0XFFFFFF).toString(16);
      var size = Math.floor(Math.random() * 15) + 'px';
      var position_l = Math.floor(Math.random() * 100) + '%';
      var position_t = Math.floor(Math.random() * 100) + '%';
      var numDeg = Math.floor(Math.random() * 180) + 'deg';

      var go_l = Math.floor(Math.random() * 1000) + 'px';
      var go_t = Math.floor(Math.random() * 1000) + 'px';
      var go_s = Math.floor(Math.random() * 100000000);

      $('.down-star').append('<span class="star star'+e+'" style="color:'+randomColor+';font-size:'+size+';left:'+position_l+';top:'+position_t+';transform: rotate('+numDeg+');">★</span>');

      if ((e % 3) === 0) {
        $('.down-star span.star'+e+'').animate({
          'left':go_l,
          'top':go_t,
          'opacity':0
        },1000),go_s;
      }

      i = e;
    })
    // time
    goTime();
    // setInterval(function() {
    //   goTime();
    // },1000)

    function goTime() {
      var dateday = new Date();
      var hours = (new Date().getHours() % 12);
      var minutes = dateday.getMinutes();
      var seconds = dateday.getSeconds();

      // var minnum =  (minutes / 5) * 10;
      var num = 30 / 3600;

      var mdrotate = (minutes * 6) + (seconds * 0.1);
      var smrotate = (hours * 30) + ((minutes * 60 + seconds) * num);

      $('.view-time .lg').css({'transform':'translateX(-50%) rotate('+ seconds * 6 +'deg)'})
      $('.view-time .md').css({'transform':'translateX(-50%) rotate('+ mdrotate +'deg)'})
      $('.view-time .sm').css({'transform':'translateX(-50%) rotate('+ smrotate +'deg)'})



    }

    // 슬라이드
    $('.visual-slick').slick({
      infinite: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      centerMode: true,
      centerPadding: '0',
      variableWidth: true,
      autoplaySpeed: 5000,
      speed: 1000,
      autoplay: true,
      dots: true,
      arrows: true,
      initialSlide: 0,
      customPaging : function(slider, i) {
        var title = $(slider.$slides[i]).find('p.title').text();
        return '<button>'+ title + '</button>';
      },
    });

    $('.visual-slide').each(function() {
      var ch = $(this).hasClass('slick-active');
      if (ch) {
        $(this).find('.visual-bg').get(0).play();
      } else {
        $(this).find('.visual-bg').get(0).pause();
        $(this).find('.visual-bg').get(0).load();
      }
    });

    $('.visual-btn button').on('click', function() {
      var $this = $(this);
      var $chk = $this.hasClass('on');
      if($chk) {
        $this.removeClass('on');
        $('.visual-slick').slick('slickPlay');
      } else {
        $this.addClass('on');
        $('.visual-slick').slick('slickPause');
      }
    });
    $(".slick-progress-bar").addClass('is-active');

    $(".visual-slick").on('afterChange',function(i){
      $(".slick-progress-bar").addClass('is-active');

      $('.visual-slide').each(function() {
        var ch = $(this).hasClass('slick-active');
        if (ch) {
          $(this).find('.visual-bg').get(0).play();
        } else {
          $(this).find('.visual-bg').get(0).pause();
          $(this).find('.visual-bg').get(0).load();
        }
      });
    });

    $(".visual-slick").on('beforeChange',function(i){
      $(".slick-progress-bar").removeClass('is-active');
    });
  </script>
</body>
</html>





<!-- Java 년도 주차 구하기 -->

<!-- http://www.gnujava.com/board/article_view.jsp?article_no=5801&board_no=1&table_cd=EPAR01&table_no=01 -->

<!-- https://altongmon.tistory.com/836 -->

<!-- https://ko.programqa.com/question/17413708/ -->

<!-- https://andamiro0-0.tistory.com/7 -->

<!-- https://okky.kr/article/246502 -->

<!-- https://noveljava.tistory.com/entry/%ED%8A%B9%EC%A0%95-%EB%82%A0%EC%A7%9C%EA%B0%80-%EC%9D%B4%EB%B2%88%EB%85%84%EB%8F%84%EC%9D%98-%EB%AA%87%EC%A3%BC%EC%B0%A8%EC%9D%B8%EA%B0%80 -->

<!-- https://falsy.me/javascript-%EC%9E%85%EB%A0%A5%ED%95%9C-%EB%82%A0%EC%A7%9C%EC%9D%98-%ED%95%B4%EB%8B%B9-%EB%8B%AC-%EA%B8%B0%EC%A4%80-%EC%A3%BC%EC%B0%A8-%EA%B5%AC%ED%95%98%EA%B8%B0/ -->